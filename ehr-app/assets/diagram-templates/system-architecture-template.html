<!DOCTYPE html>
<html>
<head>
    <title>System Architecture: [APPLICATION_NAME]</title>
    <meta charset="UTF-8">
    <script src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1400px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
        h1 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        .diagram-container { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-top: 20px; overflow-x: auto; }
        .legend { margin-top: 20px; padding: 15px; background: #fff; border-radius: 8px; }
        .legend h3 { margin-top: 0; color: #2c3e50; }
        .legend-item { display: inline-block; margin-right: 20px; margin-bottom: 10px; }
        .legend-color { display: inline-block; width: 20px; height: 20px; margin-right: 5px; vertical-align: middle; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>System Architecture: [APPLICATION_NAME]</h1>
    <p>High-level architecture showing EHR integration patterns and component interactions.</p>

    <div class="diagram-container">
        <div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;toolbar&quot;:&quot;zoom layers lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile&gt;&lt;diagram name=\&quot;Architecture\&quot;&gt;&lt;mxGraphModel dx=\&quot;1200\&quot; dy=\&quot;800\&quot; grid=\&quot;1\&quot; gridSize=\&quot;10\&quot; guides=\&quot;1\&quot; tooltips=\&quot;1\&quot; connect=\&quot;1\&quot; arrows=\&quot;1\&quot; fold=\&quot;1\&quot; page=\&quot;1\&quot; pageScale=\&quot;1\&quot; pageWidth=\&quot;1200\&quot; pageHeight=\&quot;800\&quot;&gt;&lt;root&gt;&lt;mxCell id=\&quot;0\&quot;/&gt;&lt;mxCell id=\&quot;1\&quot; parent=\&quot;0\&quot;/&gt;&lt;mxCell id=\&quot;ehr_zone\&quot; value=\&quot;EHR Environment\&quot; style=\&quot;swimlane;horizontal=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;geometry x=\&quot;40\&quot; y=\&quot;40\&quot; width=\&quot;300\&quot; height=\&quot;400\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;epic\&quot; value=\&quot;Epic EHR&amp;lt;br&amp;gt;(Hyperspace)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366\&quot; vertex=\&quot;1\&quot; parent=\&quot;ehr_zone\&quot;&gt;&lt;geometry x=\&quot;60\&quot; y=\&quot;40\&quot; width=\&quot;200\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;cerner\&quot; value=\&quot;Cerner EHR&amp;lt;br&amp;gt;(PowerChart)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366\&quot; vertex=\&quot;1\&quot; parent=\&quot;ehr_zone\&quot;&gt;&lt;geometry x=\&quot;60\&quot; y=\&quot;120\&quot; width=\&quot;200\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;fhir_server\&quot; value=\&quot;FHIR R4 Server&amp;lt;br&amp;gt;(EHR Native)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf\&quot; vertex=\&quot;1\&quot; parent=\&quot;ehr_zone\&quot;&gt;&lt;geometry x=\&quot;60\&quot; y=\&quot;220\&quot; width=\&quot;200\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;hl7_interface\&quot; value=\&quot;HL7v2 Interface&amp;lt;br&amp;gt;Engine\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf\&quot; vertex=\&quot;1\&quot; parent=\&quot;ehr_zone\&quot;&gt;&lt;geometry x=\&quot;60\&quot; y=\&quot;310\&quot; width=\&quot;200\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;app_zone\&quot; value=\&quot;Application Layer\&quot; style=\&quot;swimlane;horizontal=0;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;geometry x=\&quot;420\&quot; y=\&quot;40\&quot; width=\&quot;340\&quot; height=\&quot;400\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;cds_service\&quot; value=\&quot;CDS Hooks Service&amp;lt;br&amp;gt;(REST API)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1\&quot; vertex=\&quot;1\&quot; parent=\&quot;app_zone\&quot;&gt;&lt;geometry x=\&quot;60\&quot; y=\&quot;40\&quot; width=\&quot;220\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;clinical_engine\&quot; value=\&quot;Clinical Logic Engine&amp;lt;br&amp;gt;(Decision Rules)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1\&quot; vertex=\&quot;1\&quot; parent=\&quot;app_zone\&quot;&gt;&lt;geometry x=\&quot;60\&quot; y=\&quot;130\&quot; width=\&quot;220\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;smart_app\&quot; value=\&quot;SMART on FHIR App&amp;lt;br&amp;gt;(Optional UI)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450\&quot; vertex=\&quot;1\&quot; parent=\&quot;app_zone\&quot;&gt;&lt;geometry x=\&quot;60\&quot; y=\&quot;220\&quot; width=\&quot;220\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;app_db\&quot; value=\&quot;Application Database&amp;lt;br&amp;gt;(Audit, Config)\&quot; style=\&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf\&quot; vertex=\&quot;1\&quot; parent=\&quot;app_zone\&quot;&gt;&lt;geometry x=\&quot;100\&quot; y=\&quot;310\&quot; width=\&quot;140\&quot; height=\&quot;70\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;external_zone\&quot; value=\&quot;External Services\&quot; style=\&quot;swimlane;horizontal=0;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;fontColor=#333333\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;geometry x=\&quot;840\&quot; y=\&quot;40\&quot; width=\&quot;300\&quot; height=\&quot;400\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;terminology\&quot; value=\&quot;Terminology Service&amp;lt;br&amp;gt;(SNOMED, LOINC)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333\&quot; vertex=\&quot;1\&quot; parent=\&quot;external_zone\&quot;&gt;&lt;geometry x=\&quot;50\&quot; y=\&quot;50\&quot; width=\&quot;200\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;notification\&quot; value=\&quot;Notification Service&amp;lt;br&amp;gt;(Pager, Email)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333\&quot; vertex=\&quot;1\&quot; parent=\&quot;external_zone\&quot;&gt;&lt;geometry x=\&quot;50\&quot; y=\&quot;140\&quot; width=\&quot;200\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;monitoring\&quot; value=\&quot;Monitoring &amp;amp; Logging&amp;lt;br&amp;gt;(APM, SIEM)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333\&quot; vertex=\&quot;1\&quot; parent=\&quot;external_zone\&quot;&gt;&lt;geometry x=\&quot;50\&quot; y=\&quot;230\&quot; width=\&quot;200\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;edge1\&quot; value=\&quot;FHIR R4&amp;lt;br&amp;gt;REST\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;startArrow=classic;startFill=1;strokeWidth=2;strokeColor=#0066CC\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;fhir_server\&quot; target=\&quot;cds_service\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;edge2\&quot; value=\&quot;CDS Hooks&amp;lt;br&amp;gt;Request/Response\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;startArrow=classic;startFill=1;strokeWidth=2;strokeColor=#009900;dashed=1\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;epic\&quot; target=\&quot;cds_service\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;edge3\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=1\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;cds_service\&quot; target=\&quot;clinical_engine\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;edge4\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=1\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;clinical_engine\&quot; target=\&quot;app_db\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;edge5\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;strokeWidth=1;dashed=1\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;clinical_engine\&quot; target=\&quot;notification\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}">
        </div>
    </div>

    <div class="legend">
        <h3>Legend</h3>
        <div class="legend-item"><span class="legend-color" style="background:#d5e8d4;border:1px solid #82b366;"></span> EHR Systems</div>
        <div class="legend-item"><span class="legend-color" style="background:#dae8fc;border:1px solid #6c8ebf;"></span> Integration/Data Layer</div>
        <div class="legend-item"><span class="legend-color" style="background:#f8cecc;border:1px solid #b85450;"></span> Application Components</div>
        <div class="legend-item"><span class="legend-color" style="background:#f5f5f5;border:1px solid #666666;"></span> External Services</div>
    </div>

    <div style="margin-top: 20px; padding: 15px; background: #fff; border-radius: 8px;">
        <h3>Integration Protocols</h3>
        <table style="width:100%; border-collapse: collapse;">
            <tr style="background:#f0f0f0;"><th style="padding:8px;text-align:left;border:1px solid #ddd;">Protocol</th><th style="padding:8px;text-align:left;border:1px solid #ddd;">Use Case</th><th style="padding:8px;text-align:left;border:1px solid #ddd;">Security</th></tr>
            <tr><td style="padding:8px;border:1px solid #ddd;">FHIR R4 REST</td><td style="padding:8px;border:1px solid #ddd;">Data queries, resource read/write</td><td style="padding:8px;border:1px solid #ddd;">OAuth 2.0 / SMART</td></tr>
            <tr><td style="padding:8px;border:1px solid #ddd;">CDS Hooks</td><td style="padding:8px;border:1px solid #ddd;">Real-time decision support</td><td style="padding:8px;border:1px solid #ddd;">Bearer Token</td></tr>
            <tr><td style="padding:8px;border:1px solid #ddd;">HL7v2 MLLP</td><td style="padding:8px;border:1px solid #ddd;">ADT/ORM/ORU messaging</td><td style="padding:8px;border:1px solid #ddd;">TLS, VPN</td></tr>
        </table>
    </div>
</body>
</html>
